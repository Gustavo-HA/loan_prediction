# Welcome to your prefect.yaml file! You can use this file for storing and managing
# your Prefect deployments. For more information on this file, see:
# https://docs.prefect.io/latest/concepts/deployments/

name: loan-prediction
prefect-version: 3.4.7  # Or your current Prefect version

build: null

push: null

pull:
- prefect.deployments.steps.git_clone:
    repository: https://github.com/Gustavo-HA/loan_prediction.git
    branch: main

- prefect.deployments.steps.run_shell_script:
    script: uv sync
    stream_output: true

deployments:
- name: Main Pipeline
  description: Runs the full data preprocessing, HP tuning, and training pipeline.
  entrypoint: lap/main_flow.py:main_pipeline_flow
  work_pool:
    name: default-work-pool  # Replace with your Prefect work pool name

- name: Ad-hoc Model Selection
  description: Runs the model selection script to compare different model types. Not on a schedule.
  entrypoint: lap/modeling/model_selection.py:training_flow
  work_pool:
    name: default-work-pool  # Replace with your Prefect work pool name
